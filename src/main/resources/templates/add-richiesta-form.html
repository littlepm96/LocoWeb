<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>LocoWeb - Nuova Richiesta</title>

    <style>
        form {
            /* Form centrato nella pagina */
            margin: 0 auto;
            width: 500px;
            /* Linee intorno al Form */
            padding: 1em;
            border: 3px solid #ccc;
            border-radius: 1em;
        }
    </style>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous"/>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <h3 class="text-center">Inserisci la tua richiesta</h3>
        <hr/>

        <div th:if="${success}" class="alert alert-success w-25 mx-auto">
            Richiesta inserita correttamente. Tornare alla <a th:href="@{/}">homepage</a>!
        </div>
        <div th:if="${success} == false" class="alert alert-danger w-25 mx-auto">
            Errore nell'inserimento della richiesta.
        </div>

        <form th:action="@{/saveRichiesta}" th:object="${richiesta}" method="POST">
            <div class="form-group">
                <label>Nome</label>
                <input type="text" maxlength="10" required="required" th:field="*{nome}" id="nome" class="form-control col-40 mb-4" placeholder="inserisci nome"/>
            </div>
            <div class="form-group">
                <label> Cognome </label>
                <input type="text" maxlength="10" required="required"  th:field="*{cognome}" id="cognome" class="form-control col-40 mb-4" placeholder="inserisci cognome"/>
            </div>
            <div class="form-group">
                <label> Email </label>
                <input type="text" maxlength="20" required="required" th:field="*{email}" id="email" class="form-control col-40 mb-4" placeholder="inserisci email"/>
            </div>
            <div class="form-group">
                <label> Cellulare </label>
                <input type="text" maxlength="10" required="required" th:field="*{cellulare}" id="cellulare" class="form-control col-40 mb-4" placeholder="inserisci cellulare"/>
            </div>
            <div class="form-group">
                <label> Descrizione </label>
                <textarea type="text" maxlength="200" required="required" th:field="*{descrizione}" id="descrizione" class="form-control col-40 mb-4" placeholder="inserisci richiesta"/> </textarea>
            </div>
            <button type="submit" class="btn btn-primary col-4">Inoltra Form</button>
            <input type="hidden" th:field="*{id}"/>
        </form>

        <hr/>
        <a th:if="${user}" class="d-block text-center" th:href="@{/admin/list}">Torna alla lista di richieste</a>
        <a th:unless="${user}" class="d-block text-center" th:href="@{/}">Torna alla homepage</a>

        <!-- Toast Area Start -->
        <div id="failureToast" class="position-fixed bottom-0 right-0 p-3" style="z-index: 5; right: 0; bottom: 0;">
            <div id="liveToast" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true" data-delay="2000">
                <div class="toast-header">
                    <img src="#" class="rounded mr-2" alt="#">
                    <strong class="mr-auto">Bootstrap</strong>
                    <small>11 mins ago</small>
                    <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="toast-body">
                    
                </div>
            </div>
        </div>
        <!-- Toast Area End -->
    </div>
</body>
</html>